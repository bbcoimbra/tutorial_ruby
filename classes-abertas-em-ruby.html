<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Classes Abertas em Ruby</title>
   <meta name="author" content="" />

   <!--- Blueprint CSS Framework -->
   <link rel="stylesheet" href="css/blueprint/screen.css" type="text/css" media="screen, projection">
   <link rel="stylesheet" href="css/blueprint/print.css" type="text/css" media="print">
   <!--[if IE]>
      <link rel="stylesheet" href="css/blueprint/ie.css" type="text/css" media="screen, projection">
   <![endif]-->

   <!-- CodeRay syntax highlighting CSS -->
   <link rel="stylesheet" href="css/coderay.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="css/site.css" type="text/css" media="screen, projection" />
</head>
<body>

<div class="container">

   <div class="column span-20 prepend-2 append-2 first last" id="header">
     <p class="title">Tutorial de Ruby do GURU-SP</p>
     <hr>
   </div>

   <div class="column span-15 prepend-2 first">
      <p class="title">Classes Abertas em Ruby</p>
<div class='box'>
In Ruby, classes are never closed: you can always add methods to an existing class. This applies to the classes you write as well as the standard, built-in classes. All you have to do is open up a class definition for an existing class, and the new contents you specify will be added to whatever&#8217;s there.
</div>
<p>Now to the program p031motorcycletest.rb in the last topic, add the method dispAttr</p>
<div class="CodeRay">
<pre><span class="no"> 1</span>   require <span class="s"><span class="dl">'</span><span class="k">p030motorcycle</span><span class="dl">'</span></span>
<span class="no"> 2</span>   m = <span class="co">MotorCycle</span>.new(<span class="s"><span class="dl">'</span><span class="k">Yamaha</span><span class="dl">'</span></span>, <span class="s"><span class="dl">'</span><span class="k">red</span><span class="dl">'</span></span>)
<span class="no"> 3</span>   m.startEngine
<span class="no"> 4</span> 
<span class="no"> 5</span>   <span class="r">class</span> <span class="cl">MotorCycle</span>
<span class="no"> 6</span>     <span class="r">def</span> <span class="fu">dispAttr</span>
<span class="no"> 7</span>       puts <span class="s"><span class="dl">'</span><span class="k">Color of MotorCycle is </span><span class="dl">'</span></span> + <span class="iv">@color</span>
<span class="no"> 8</span>       puts <span class="s"><span class="dl">'</span><span class="k">Make  of MotorCycle is </span><span class="dl">'</span></span> + <span class="iv">@make</span>
<span class="no"> 9</span>     <span class="r">end</span>
<span class="no"><strong>10</strong></span>   <span class="r">end</span>
<span class="no">11</span>   m.dispAttr
<span class="no">12</span>   m.startEngine
<span class="no">13</span>   puts <span class="pc">self</span>.class
<span class="no">14</span>   puts <span class="pc">self</span>
</pre>
</div>
<p>Please note that self.class refers to Object and self refers to an object called main of class Object.</p>
<p>One more example is program &#8211; p031xdognext.rb</p>
<div class="CodeRay">
<pre><span class="no"> 1</span>   require <span class="s"><span class="dl">'</span><span class="k">p029dog</span><span class="dl">'</span></span>
<span class="no"> 2</span>   <span class="c"># define class Dog</span>
<span class="no"> 3</span>   <span class="r">class</span> <span class="cl">Dog</span>
<span class="no"> 4</span>     <span class="r">def</span> <span class="fu">big_bark</span>
<span class="no"> 5</span>       puts <span class="s"><span class="dl">'</span><span class="k">Woof! Woof!</span><span class="dl">'</span></span>
<span class="no"> 6</span>     <span class="r">end</span>
<span class="no"> 7</span>   <span class="r">end</span>
<span class="no"> 8</span>   <span class="c"># make an object</span>
<span class="no"> 9</span>   d = <span class="co">Dog</span>.new(<span class="s"><span class="dl">'</span><span class="k">Labrador</span><span class="dl">'</span></span>, <span class="s"><span class="dl">'</span><span class="k">Benzy</span><span class="dl">'</span></span>)
<span class="no"><strong>10</strong></span>   d.bark
<span class="no">11</span>   d.big_bark
<span class="no">12</span>   d.display
</pre>
</div>
<p>Here&#8217;s another example of adding a method to the String class. The program p032mystring.rb illustrates the same.</p>
<div class="CodeRay">
<pre><span class="no">1</span>   <span class="r">class</span> <span class="cl">String</span>
<span class="no">2</span>     <span class="r">def</span> <span class="fu">writesize</span>
<span class="no">3</span>       <span class="pc">self</span>.size
<span class="no">4</span>     <span class="r">end</span>
<span class="no">5</span>   <span class="r">end</span>
<span class="no">6</span>   size_writer = <span class="s"><span class="dl">&quot;</span><span class="k">Tell me my size!</span><span class="dl">&quot;</span></span>
<span class="no">7</span>   puts size_writer.writesize
</pre>
</div>
<p>(You can confirm the output to the above programs yourself).</p>
<div class='box'>
<p>If you&#8217;re writing a new method that conceptually belongs in the original class, you can reopen the class and append your method to the class definition. You should only do this if your method is generally useful, and you&#8217;re sure it won&#8217;t conflict with a method defined by some library you include in the future. If your method isn&#8217;t generally useful, or you don&#8217;t want to take the risk of modifying a class after its initial creation, create a subclass of the original class. The subclass can override its parent&#8217;s methods, or add new ones. This is safer because the original class, and any code that depended on it, is unaffected.</p>
</div>
   </div>

   <div class="column span-5 append-2 last">

      <p><a href="http://www.guru-sp.org" title="Grupo de Usuários Ruby de SP"><img src="images/logo_guru-sp.jpg" title="Logo do GURU-SP" alt="Logo do Guru-SP" /></a></p>

      <div class="box">
         <p>Este material tem como base o <a href="http://www.rubylearning.com" title="Ruby Learning">tutorial do RubyLearning.com de Satish Talim</a> e foi traduzido por membros do <a href="http://www.guru-sp.org" title="Grupo de Usuários Ruby de SP">GURU-SP</a> com a permissão do autor.</p>
        <p class="last">Ajude o RubyLearning participando em algum dos <a href="http://www.rubylearning.org" title="cursos do Ruby Learning">cursos pagos</a> ou <a href="http://pledgie.com/campaigns/415" title="Ajude o Ruby Learning">fazendo uma doação para o projeto</a></p>
      </div>

      <p class="quiet"><a href="index.html" title="índice">Voltar para o índice</a></p>

      <h5></h5>
      <p class="incr"></p>
   </div>

   <div class="column span-20 prepend-2 append-2 first last" id="footer">
     <hr />
     <p>Tuturial de Ruby do <a href="http://www.guru-sp.org" title="Grupo de Usuários Ruby de SP">GURU-SP</a>. Este site foi criado com <a href="http://webby.rubyforge.org">Webby</a></p>
   </div>

</div>
</body>
</html>
